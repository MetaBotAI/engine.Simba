#!/usr/bin/bash
# Uses: https://github.com/BotEngine/my_setup-lazarus-fpcup

dir=~/bot

src=https://github.com/ollydev/Simba.git

# Branch
#/ Latest branch is called 'merging'!
#/ https://github.com/ollydev/Simba/tree/merging
#/ https://github.com/ollydev/Simba/commits/merging

stable='simba-1500'
latest='merging'
branch=$latest

fast(){
  export gitopts='--depth 1 --shallow-submodules'
}

source(){
  cd $dir
  # this works Perfectly!
  git clone --branch $branch --recurse-submodules $gitopts $src
}

build(){
  cd $dir/Simba
  ~/bot/fpcup/lazarus/lazbuild Source/Simba.lpi
}


fast
source
build_env
